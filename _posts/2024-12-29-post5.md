---
title: EXAMEN FINAL
date: 2024-12-29 00:00:00 -05:00
categories: [Ciberseguridad, Seguridad Inform√°tica]
tags: [Procmon, Sysmon, Caldera]  # TAG names should always be lowercase
---

En este post, vamos a responder las siguientes preguntas del examen final.

# 1. ¬øC√≥mo podr√≠as utilizar Procmon y Sysmon juntos para investigar la actividad de un proceso sospechoso?

Para investigar la actividad de un procesos sospechoso, procmon puede capturar actividades en tiempo real relacionadas con el sistema de archivos, el registro y las operaciones de red, proporcionando un nivel de detalle granular para observar el comportamiento inmediato del proceso. Por otro lado, sysmon, ofrece un registro persistente de eventos clave como la creaci√≥n de procesos, conexiones de red y modificaciones en el registro. 
Al combinar ambos, se puede usar Procmon para observar actividad en tiempo real y correlacionar esa informaci√≥n con eventos hist√≥ricos capturados por Sysmon para identificar patrones o contextos adicionales.

# 1.1. Explica los tipos de eventos que Procmon y Sysmon pueden capturar de forma complementaria.

Procmon
- Captura eventos relacionados con el sistema de archivos, como la creaci√≥n, lectura y modificaci√≥n de archivos (`CreateFile`, `ReadFile`).
- Monitoreo claves de registro y su manipulaci√≥n (`RegQueryValue`, `RegSetValue`).

Sysmon
Registra eventos m√°s persistentes como:
- `ProcessCreate` (creaci√≥n de procesos).
- `ProcessAccess` (acceso a procesos).
- `FileCreateStreamHash` (creaci√≥n de flujos secundarios).
- Conexiones de red y cambios en el registro del sistema.

<div style="background-color: #f9f9f9; border-left: 6px solid #ccc; padding: 10px;">
  ‚ÑπÔ∏è <strong>Informaci√≥n √∫til:</strong> Estas herramientas se complementan porque Procmon ofrece una visi√≥n inmediata y detallada, mientras que Sysmon proporciona un historial m√°s estructurado y configurable.
</div>

# 1.2. Proporciona un ejemplo pr√°ctico de c√≥mo identificar un posible comportamiento malicioso en un proceso utilizando ambas herramientas.

Por ejemplo, supongamos que un administrador de seguridad detecta un proceso sospechoso en un sistema que podr√≠a ser parte de un malware. El proceso no tiene un nombre com√∫n y muestra un comportamiento an√≥malo, como consumir recursos inusuales o persistir en memoria.

**Paso 1: Monitoreo en tiempo real con Procmon** 
Procmon se utiliza para capturar detalles precisos y en tiempo real del proceso sospechoso:

1.	Filtro inicial: Configura Procmon para capturar eventos relacionados exclusivamente con el proceso sospechoso, utilizando su nombre o su PID (Process ID). Esto reduce el ruido y asegura que solo se analicen eventos relevantes.

2.	Observaci√≥n de actividades clave: Revisi√≥n de operaciones en el sistema de archivos, como:
- Creaci√≥n de archivos ocultos o en ubicaciones no est√°ndar.
- Escritura en directorios cr√≠ticos. Por ejemplo, `C:\Windows\System32)`
- Modificaciones al registro que podr√≠an ser persistentes, como cambios en las claves de inicio autom√°tico `(HKLM\Software\Microsoft\Windows\CurrentVersion\Run).`
- Llamadas al sistema que interact√∫an con librer√≠as sospechosas o DLLs no firmadas.

**Paso 2: Correlaci√≥n con los eventos hist√≥ricos de Sysmon** 

Mientras Procmon brinda una visi√≥n en tiempo real, Sysmon ayuda a analizar el historial de eventos relacionados con el proceso sospechoso, proporcionando contexto adicional:

1.	Verificaci√≥n de creaci√≥n del proceso: Examina eventos ProcessCreate en Sysmon para determinar:
o	¬øQu√© proceso gener√≥ el proceso sospechoso?
o	¬øEl proceso tiene un historial asociado a malware conocido?
Ejemplo: Un proceso leg√≠timo (como explorer.exe) podr√≠a haber sido comprometido y utilizado para lanzar el proceso malicioso.
2.	An√°lisis de conexiones de red:
‚Ä¢	Examina eventos de red generados por Sysmon para verificar si el proceso sospechoso:
o	Estableci√≥ conexiones a direcciones IP externas no confiables.
o	Comunic√≥ con servidores ubicados en pa√≠ses con alta incidencia de actividades maliciosas.
3.	Detecci√≥n de flujos secundarios (ADS):
Si el proceso utiliza Alternate Data Streams (ADS) para ocultar su payload, Sysmon registra este comportamiento mediante eventos FileCreateStreamHash. Esto complementa la observaci√≥n en tiempo real de Procmon, que puede haber mostrado una operaci√≥n inusual de creaci√≥n de archivos.

**Paso 3: Conclusi√≥n del an√°lisis** 
Correlacionando los datos de ambas herramientas, el analista puede identificar un patr√≥n claro:
‚Ä¢	Procmon confirma que el proceso realiza cambios sospechosos en el sistema de archivos y el registro.
‚Ä¢	Sysmon refuerza el an√°lisis al mostrar que el proceso fue creado por un ejecutable malicioso y se comunica con un servidor C2.

## 2. ¬øEn Sysmon, ¬øqu√© diferencias existen entre los eventos ProcessCreate y ProcessAccess, y qu√© utilidad tienen cada uno para un analista de seguridad? (5 ptos)
1.	ProcessCreate:
o	Captura informaci√≥n cuando un proceso es creado.
o	Proporciona datos como el nombre del proceso, el usuario que lo inici√≥ y el proceso padre
o	√∫til para identificar c√≥mo se origina un proceso sospechoso.
2.	ProcessAccess:
o	Captura intentos de acceso a otros procesos.
o	Ofrece detalles sobre qu√© proceso intent√≥ acceder y a qu√© proceso espec√≠fico.
o	√ötil para detectar comportamientos maliciosos como intentos de escalaci√≥n de privilegios o inyecciones de c√≥digo.

## 2.1. Describe los atributos principales de ambos eventos.
1.	ProcessCreate:
‚Ä¢	Identificador √∫nico del proceso.
‚Ä¢	Detectar la ejecuci√≥n de procesos inusuales (ej., powershell.exe con argumentos sospechosos).
2.	ProcessAccess:
‚Ä¢	Tipo de acceso (lectura, escritura, ejecuci√≥n).
‚Ä¢	Identificar t√©cnicas de evasi√≥n como inyecciones en procesos leg√≠timos (ej., svchost.exe accediendo a un proceso cr√≠tico)

## 2.1. Investiga y menciona al menos dos escenarios donde cada evento podr√≠a ser clave en la detecci√≥n de amenazas.

Sysmon es una herramienta esencial para la monitorizaci√≥n avanzada de eventos en sistemas Windows, proporcionando visibilidad detallada de actividades cr√≠ticas. Los eventos ProcessCreate (ID 1) y ProcessAccess (ID 10) son particularmente √∫tiles para detectar comportamientos sospechosos y potenciales amenazas. A continuaci√≥n, se presentan dos escenarios para cada evento donde su monitoreo es clave en la detecci√≥n de amenazas:

Evento ProcessCreate (ID 1):

Escenario 1:
‚Ä¢	Ejecuci√≥n de procesos desde ubicaciones inusuales:
Descripci√≥n: La creaci√≥n de procesos desde directorios no est√°ndar, como C:\Temp\ o C:\Users\[Usuario]\AppData\Local\Temp\, puede indicar actividad maliciosa, ya que los atacantes suelen utilizar estas ubicaciones para ejecutar malware.
Detecci√≥n: Monitorear y alertar sobre procesos iniciados desde estas rutas puede ayudar a identificar ejecuciones sospechosas.
Escenario 2: 
‚Ä¢	Uso de argumentos de l√≠nea de comandos sospechosos:

Descripci√≥n: La ejecuci√≥n de comandos con par√°metros inusuales, como powershell.exe -nop -w hidden -enc [cadena], puede ser indicativa de intentos de ofuscaci√≥n o ejecuci√≥n de scripts maliciosos.

Detecci√≥n: Analizar las l√≠neas de comando de los procesos creados permite identificar patrones asociados a t√©cnicas maliciosas.

Evento ProcessAccess (ID 10):
Escenario 1:
‚Ä¢	Acceso al proceso LSASS para extracci√≥n de credenciales:

Descripci√≥n: Herramientas como Mimikatz intentan acceder al proceso lsass.exe para extraer credenciales almacenadas en memoria.

Detecci√≥n: Monitorear accesos al proceso lsass.exe con permisos elevados puede revelar intentos de robo de credenciales. 
Escenario 2:
‚Ä¢	Inyecci√≥n de c√≥digo en procesos leg√≠timos:

Descripci√≥n: Los atacantes pueden inyectar c√≥digo malicioso en procesos confiables para evadir la detecci√≥n y mantener la persistencia en el sistema.
Detecci√≥n: Registrar eventos donde un proceso accede a otro con permisos que permiten escritura o creaci√≥n de hilos puede indicar intentos de inyecci√≥n de c√≥digo. 

La configuraci√≥n adecuada de Sysmon para capturar y analizar estos eventos es fundamental en una estrategia de seguridad, permitiendo la detecci√≥n temprana de actividades maliciosas y la implementaci√≥n de medidas de mitigaci√≥n efectivas.


‚Ä¢	<span style="background-color: #f0f0f0; padding: 2px 4px; border-radius: 3px;">-sS</span>: Este flag realiza un escaneo "half-open" o **SYN scan**, que es uno de los m√©todos m√°s comunes y efectivos. Env√≠a un paquete SYN a cada puerto y espera una respuesta:

    1. SYN-ACK: El puerto est√° abierto.
    2. RST: El puerto est√° cerrado.
Este m√©todo es discreto porque no completa la conexi√≥n TCP, lo que lo hace menos detectable por sistemas de seguridad.

Se realiza un escaneo SYN en el host 10.0.2.4

   ```bash
   sudo nmap -sS 10.0.2.4/24 -p 80
   ```
   
Este comando realiza un escaneo de tipo SYN en el puerto 80 del host 10.0.2.4/24.

‚Ä¢	<span style="background-color: #f0f0f0; padding: 2px 4px; border-radius: 3px;">-sT</span>:El flag -sT ejecuta un escaneo TCP completo, tambi√©n conocido como TCP Connect Scan. Este m√©todo establece una conexi√≥n TCP completa:

Uso: Este m√©todo es m√°s f√°cil de detectar porque establece conexiones completas, pero es √∫til cuando no se tienen privilegios de root y se necesita escanear puertos abiertos.
Ejemplo:
 ```bash
   sudo nmap -sT 10.0.2.4/24 -p 80
   ```
Este comando realiza un escaneo de tipo TCP Connect en el puerto 80 del host 10.0.2.4/24.

‚Ä¢	<span style="background-color: #f0f0f0; padding: 2px 4px; border-radius: 3px;">-sV</span>: Realiza un escaneo de versi√≥n, que intenta determinar la versi√≥n del servicio que se est√° ejecutando en el puerto. Este tipo de escaneo es √∫til para obtener informaci√≥n adicional sobre el servidor y detectar vulnerabilidades.
Ejemplo:
 ```bash
   sudo nmap -sV 10.0.2.4/24 -p 80
   ```
Este comando realiza un escaneo de versi√≥n en el puerto 80 del host 10.0.2.4/24.

‚Ä¢	<span style="background-color: #f0f0f0; padding: 2px 4px; border-radius: 3px;">-O</span>: Realiza un escaneo de sistema operativo, que intenta determinar el sistema operativo que se est√° ejecutando en el host. Este tipo de escaneo es √∫til para obtener informaci√≥n adicional sobre el host y detectar vulnerabilidades.
Ejemplo:
 ```bash
   sudo nmap -O 10.0.2.4/24
   ```
Este comando realiza un escaneo de sistema operativo en el host 10.0.2.4/24.

<div style="background-color: #e7f3fe; border-left: 6px solid #2196F3; padding: 10px;">
  üîî  <strong>Recordatorio Importante:</strong> Utiliza estos flags en combinaci√≥n para obtener un perfil m√°s completo de los dispositivos en la red. Por ejemplo, combinar -sS con -sV puede ayudarte a identificar puertos abiertos y los servicios que se ejecutan en ellos.
</div>

## 3. ¬øExiste alg√∫n flag que permite hacer un escaneo involucrando todos los flags mencionados anteriormente?
S√≠, el flag -A combina los flags -sS, -sV y -O para realizar un escaneo exhaustivo.
Ejemplo:
 ```bash
   sudo nmap -A 10.0.2.4/24
   ```
Este comando realiza un escaneo exhaustivo en el host 10.0.2.4/24, que incluye un escaneo de tipo SYN, un escaneo de versi√≥n y un escaneo de sistema operativo.

## 4. Explicar el proceso de un handshake TCP.
El proceso de un handshake TCP (Three-Way Handshake) es el siguiente:
![alt text](/assets/images/HANDSHAKE.png)

1.	El cliente env√≠a un paquete SYN (sincronizaci√≥n) al servidor para iniciar la conexi√≥n.
2.	El servidor responde con un paquete SYN-ACK (sincronizaci√≥n y acknowledgement) que confirma la recepci√≥n del paquete SYN.
3.	El cliente env√≠a un paquete ACK (acknowledgement) que confirma la recepci√≥n del paquete SYN-ACK.
Este proceso se repite para cada conexi√≥n TCP que se establece. El handshake TCP es esencial para establecer una conexi√≥n confiable

## 5. Seg√∫n la pregunta anterior, ¬øqu√© significa el flag -sS?
El flag -sS en Nmap se refiere a un escaneo de tipo SYN, conocido como "half-open scan". Este m√©todo es menos intrusivo que un escaneo de tipo TCP Connect (-sT) porque no completa el proceso de conexi√≥n TCP. En lugar de establecer una conexi√≥n completa, el escaneo SYN env√≠a un paquete SYN al puerto objetivo y espera una respuesta. Si el puerto est√° abierto, el objetivo responde con un paquete SYN-ACK. Si el puerto est√° cerrado, se env√≠a un paquete RST (reset).
Este tipo de escaneo es √∫til porque permite al atacante identificar puertos abiertos sin dejar una conexi√≥n completa en el registro del servidor, lo que puede ayudar a evitar la detecci√≥n.
Ejemplo:
 ```bash
   sudo nmap -sS 10.0.2.15/24 -p 80
   ```
Este comando escanea el puerto 80 del host 10.0.2.15/24 utilizando el m√©todo SYN.

## 6. ¬øQu√© hace el flag --script?
El flag --script permite a Nmap ejecutar scripts de Nmap Scripting Engine (NSE), que son scripts escritos en Lua que pueden realizar una variedad de tareas, desde la detecci√≥n de vulnerabilidades hasta la recopilaci√≥n de informaci√≥n adicional sobre el sistema.
Los scripts pueden ser utilizados para realizar tareas espec√≠ficas como:
‚Ä¢	Detecci√≥n de vulnerabilidades conocidas (por ejemplo, exploits de software).
‚Ä¢	Recolecci√≥n de informaci√≥n sobre servicios (como banners de versi√≥n).
‚Ä¢	Realizaci√≥n de pruebas de seguridad en aplicaciones web.
Existen m√∫ltiples scripts disponibles en Nmap, y se pueden especificar scripts individuales o categor√≠as de scripts.
Ejemplo:
 ```bash
   sudo nmap --script http-vuln* 10.0.2.15/24
   ```
Este comando utiliza Nmap para ejecutar todos los scripts que comienzan con http-vuln en el host 192.168.1.1, buscando vulnerabilidades en servicios HTTP.


# WEAPONIZATION

La etapa de Weaponization en el Cyber Kill Chain es clave para que un atacante convierta la informaci√≥n obtenida en la fase de Reconnaissance en una amenaza activa. Aqu√≠, el atacante crea una "arma" digital (por ejemplo, malware o exploits) que se usar√° para comprometer el sistema objetivo.

## üîß ¬øQu√© ocurre en la fase de Weaponization?
En esta fase, el atacante combina un exploit (una vulnerabilidad aprovechable) con un payload (una carga maliciosa), como un troyano o ransomware, para crear un archivo o herramienta maliciosa que ser√° entregada al objetivo en la siguiente fase del ataque.

Por ejemplo, un documento aparentemente inofensivo de Word podr√≠a tener un exploit que ejecuta c√≥digo malicioso en el sistema objetivo cuando se abre. Sin la etapa de weaponization, un atacante no podr√≠a aprovechar las vulnerabilidades descubiertas en la fase anterior.

<div style="background-color:#ffdddd; border-left: 6px solid #f44336; padding: 10px;">
  <strong>Importante:</strong> La etapa de Weaponization se lleva a cabo fuera de la red de la v√≠ctima, lo que hace que sea complicado detectar al atacante en este punto. Sin embargo, las organizaciones pueden centrarse en la capacitaci√≥n y concienciaci√≥n de los empleados para reconocer archivos sospechosos y evitar la ejecuci√≥n de posibles amenazas.
</div>

##  Desarrollo:
-	Investigar el script utilizado en la enumeraci√≥n de usuarios SSH (auxiliary/scanner/ssh/ssh_enumusers). Responder:
![alt text](/assets/images/weap_ssh.png)

Usa Metasploit para encontrar m√≥dulos relacionados con SSH que te permitan enumerar usuarios. Los siguientes m√≥dulos de Metasploit pueden ser √∫tiles:
auxiliary/scanner/ssh/ssh_enumusers: Este m√≥dulo realiza una enumeraci√≥n de usuarios en el servicio SSH.

  ```bash
    use auxiliary/scanner/ssh/ssh_enumusers
set RHOSTS [IP_ADDRESS]
set USER_FILE [ruta_al_diccionario_de_usuarios]
run

   ```

### 7.	¬øEn qu√© lenguaje de programaci√≥n est√° hecho?
El script ssh_enumusers est√° escrito en Ruby, que es el lenguaje utilizado por el framework Metasploit.

### 8.	C√≥digo del script y explicaci√≥n:
A continuaci√≥n, se presenta una versi√≥n simplificada del c√≥digo del script ssh_enumusers:

 ```bash
 class MetasploitModule < Msf::Auxiliary
  include Msf::Exploit::Remote::SSH

  def run
    # Enumerar usuarios en el servidor SSH
    ...
  end
end
   ```
Explicaci√≥n breve sobre su funcionamiento:
El script ssh_enumusers se utiliza para enumerar usuarios en un servidor SSH. Funciona intentando autenticarse con una lista de posibles nombres de usuario y determina la validez de cada uno. Si el servidor responde afirmativamente, el script identifica al usuario como v√°lido. Esto es √∫til para identificar cuentas que pueden ser objetivo en la siguiente fase de un ataque.

Investigaci√≥n sobre el script auxiliary/scanner/ssh/ssh_login:
Usa m√≥dulos de Metasploit o herramientas externas como:
auxiliary/scanner/ssh/ssh_login: Este m√≥dulo realiza un ataque de fuerza bruta contra el servicio SSH.

Comando:
  ```bash
use auxiliary/scanner/ssh/ssh_login
set RHOSTS [IP_ADDRESS]
set USER_FILE [ruta_al_diccionario_de_usuarios]
set PASS_FILE [ruta_al_diccionario_de_passwords]
run

  ```

![alt text](/assets/images/SSH_v2.png)

### 9.	¬øEn qu√© lenguaje de programaci√≥n est√° hecho?
El script ssh_login tambi√©n est√° escrito en Ruby, siguiendo la misma estructura que otros scripts de Metasploit. 

### 10.	C√≥digo del script y explicaci√≥n:
A continuaci√≥n, se presenta una versi√≥n simplificada del c√≥digo del script "ssh_login":
  ```bash
class MetasploitModule < Msf::Auxiliary
  include Msf::Exploit::Remote::SSH

  def run
    # Intentar iniciar sesi√≥n con credenciales
    ...
  end
end
  ```

Explicaci√≥n breve sobre su funcionamiento:
El script ssh_login se utiliza para intentar obtener acceso a un servidor SSH mediante la prueba de diferentes combinaciones de nombres de usuario y contrase√±as. Utiliza la t√©cnica de fuerza bruta o listas de credenciales para determinar si las credenciales son v√°lidas. Si tiene √©xito, el atacante obtiene acceso al sistema objetivo.


# DELIVERY

La etapa de Delivery en el Cyber Kill Chain es el tercer eslab√≥n del ciclo de un ataque cibern√©tico. En esta fase, el atacante entrega la carga maliciosa (malware, exploit, etc.) al sistema o red objetivo. Este es el momento en el que la amenaza llega al entorno de la v√≠ctima, y el √©xito del ataque depende de si logra infiltrarse sin ser detectado.

Esto puede incluir el env√≠o de correos electr√≥nicos de phishing con enlaces maliciosos, la explotaci√≥n de vulnerabilidades en aplicaciones web o el acceso a servicios mal configurados, como SSH. Una vez que se ha logrado la explotaci√≥n, el atacante puede obtener acceso al sistema y comenzar a implementar t√©cnicas adicionales para mantener el acceso y realizar acciones sobre el objetivo.

<div style="background-color: #f9f9f9; border-left: 6px solid #ccc; padding: 10px;">
  ‚ÑπÔ∏è <strong>Informaci√≥n √∫til:</strong> Delivery es una de las pocas fases del Kill Chain donde el atacante interact√∫a directamente con la red objetivo. Si bien la prevenci√≥n es clave, contar con herramientas como firewalls, soluciones de sandboxing y sistemas de detecci√≥n de intrusiones (IDS) puede ayudar a identificar y bloquear los intentos de entrega en tiempo real.
</div>

# D. Exploitation 
La etapa de Exploitation es el cuarto paso en el Cyber Kill Chain y marca el punto en el que el atacante finalmente ejecuta el c√≥digo malicioso dentro del sistema objetivo. En esta fase, se explota una vulnerabilidad previamente identificada para ganar acceso o controlar el sistema. El exploit puede desencadenar la ejecuci√≥n de malware, escalar privilegios, o comprometer una aplicaci√≥n o sistema operativo.

<div style="background-color: #f9f9f9; border-left: 6px solid #ccc; padding: 10px;">
  ‚ÑπÔ∏è <strong>Informaci√≥n √∫til:</strong> Las herramientas de an√°lisis de vulnerabilidades y pruebas de penetraci√≥n (pentesting) son √∫tiles para identificar fallos de seguridad antes de que los atacantes puedan explotarlos. Estas pruebas permiten descubrir y solucionar vulnerabilidades internas de manera proactiva.
</div>

# E. Installation 

-	Describa esta etapa en su blog.
-	Ver el siguiente v√≠deo (activar el traductor de youtube si es que tiene complicaciones con el idioma: Configuraci√≥n > Subt√≠tulos > Traducci√≥n Autom√°tica  > Espa√±ol > Activar subt√≠tulos): https://www.youtube.com/watch?v=ant3ir9cRME. En este v√≠deo, los creadores explican el script vssown.vbs.
-	Proporcionar un breve resumen sobre c√≥mo se puede conciliar malware.
-	Revisar los siguientes links: link1 link2. Explicar, seg√∫n lo descrito en estos blogs, c√≥mo se puede recuperar hashes con el script vssown.vbs.
-	Proporcionar explicaci√≥n sobre el c√≥digo de vssown.vbs (Link).

##  Desarrollo:

### Descripci√≥n de la etapa:
La fase de Installation implica asegurar el acceso persistente en un sistema comprometido. Esto puede lograrse instalando malware, backdoors o scripts que permitan al atacante mantener el control incluso despu√©s de que la sesi√≥n haya terminado. Esta etapa es fundamental para que el atacante pueda volver al sistema en el futuro sin necesidad de repetir el proceso de explotaci√≥n. Los m√©todos comunes incluyen la modificaci√≥n de archivos de inicio, la creaci√≥n de usuarios ocultos o la instalaci√≥n de software malicioso.


Resumen del script vssown.vbs:
### 11.	Proporcionar un breve resumen sobre c√≥mo se puede conciliar malware.
El script vssown.vbs utiliza las instant√°neas de volumen de Windows (VSS) para ocultar el malware en una ubicaci√≥n no f√°cilmente detectable. De esta manera, el malware se oculta en una copia del sistema que se ejecuta autom√°ticamente al iniciar el sistema, permitiendo que el atacante mantenga acceso persistente.
### 12.	Explicar c√≥mo se puede recuperar hashes con el script vssown.vbs.
El script vssown.vbs permite extraer los hashes de las contrase√±as de las cuentas de usuario aprovechando las instant√°neas de volumen de Windows. Esto se logra al acceder a archivos cr√≠ticos del sistema, como el SAM y el SYSTEM, que almacenan informaci√≥n sensible. Al extraer estos archivos, el atacante puede obtener los hashes y proceder a descifrarlos.
###	13. Proporcionar explicaci√≥n sobre el c√≥digo de vssown.vbs:
El  c√≥digo del script vssown.vbs se centra en ocultar malware de manera persistente. A continuaci√≥n se explica su funcionamiento:

-Creaci√≥n de instant√°neas: El script crea una instant√°nea del volumen, lo que permite acceder a una copia de los archivos del sistema en su estado anterior.
-Copia de archivos: El malware se copia en la ubicaci√≥n de la instant√°nea, lo que dificulta su detecci√≥n.
-Ejecuci√≥n persistente: El script configura el sistema para ejecutar el malware autom√°ticamente al iniciar, garantizando acceso continuo al atacante.

# F. Actions on Objective 
Finalmente, el atacante realiza las acciones planeadas, que pueden incluir el robo de informaci√≥n, la manipulaci√≥n de datos o la interrupci√≥n de los servicios.

-	Describa esta etapa en su blog. Solo considerar hasta la etapa de extracci√≥n de los archivos SAM y SYSTEM dado que a√∫n no hemos realizado los pasos para la desencriptaci√≥n y obtenci√≥n del contenido de dichos archivos.
-	Describir qu√© son los archivos SAM y SYSTEM localizados en la carpeta Windows\System32\Config. 
-	¬øC√≥mo es posible extraer la informaci√≥n contenida en los archivos SAM y SYSTEM?

##  Desarrollo:

### Descripci√≥n de la etapa:
La fase de Actions on Objective describe las actividades que un atacante realiza una vez que ha conseguido acceso al sistema. Esto puede incluir la recolecci√≥n de informaci√≥n, la exfiltraci√≥n de datos sensibles, la instalaci√≥n de software adicional o realizar acciones que profundicen el compromiso del sistema. En este caso, nos centraremos en la extracci√≥n de los archivos SAM y SYSTEM, que contienen los hashes de contrase√±as que pueden ser descifrados m√°s adelante.

### 14. Describir qu√© son los archivos SAM y SYSTEM localizados en la carpeta Windows\System32\Config.
Los archivos SAM (Security Account Manager) y SYSTEM son componentes cr√≠ticos del sistema operativo Windows.
-Archivo SAM (Security Account Manager): Almacena los hashes de las contrase√±as de las cuentas de usuario locales en Windows. Estos hashes no est√°n en texto claro, por lo que es necesario descifrarlos para obtener las contrase√±as originales.
-Archivo SYSTEM: Contiene informaci√≥n de configuraci√≥n del sistema y detalles sobre las cuentas de usuario, incluidos los datos necesarios para interpretar los hashes almacenados en el archivo SAM.

### 15. ¬øC√≥mo es posible extraer la informaci√≥n contenida en los archivos SAM y SYSTEM?
Existen varias formas de extraer informaci√≥n de los archivos SAM y SYSTEM:

-Herramientas de extracci√≥n: Herramientas como pwdump, fgdump o chntpw permiten extraer y descifrar los hashes almacenados en estos archivos.
-Scripts: Scripts como vssown.vbs pueden acceder a las instant√°neas de volumen y copiar los archivos SAM y SYSTEM a una ubicaci√≥n accesible para el atacante.
-Uso de Live CDs o entornos de recuperaci√≥n: Los atacantes pueden arrancar el sistema desde un Live CD o un entorno de recuperaci√≥n para acceder a estos archivos sin las restricciones de seguridad impuestas por el sistema operativo.

# Conclusions 

-	Redactar sus conclusiones en las cu√°les debe abordar: 
¬øQu√© es lo que ha aprendido de esta sesi√≥n de laboratorio?
¬øQu√© herramientas nuevas ha a√±adido a sus skills?
Otros temas que Ud. considere importante mencionar.

##  Desarrollo:

### ¬øQu√© es lo que ha aprendido de esta sesi√≥n de laboratorio?
He adquirido conocimientos sobre las distintas fases de un ataque cibern√©tico, desde la recolecci√≥n de informaci√≥n hasta la explotaci√≥n y sustracci√≥n de datos confidenciales. Cada fase cuenta con sus propias herramientas y t√©cnicas, y entender su funcionamiento es esencial para protegerse de estos ataques.

### ¬øQu√© herramientas nuevas ha a√±adido a sus skills?
He fortalecido mis competencias en el uso de Metasploit, particularmente en la ejecuci√≥n de scripts para la enumeraci√≥n de usuarios y la explotaci√≥n de credenciales SSH. Tambi√©n he aprendido a manipular archivos del sistema en Windows para extraer informaci√≥n confidencial.

### Otros temas que Ud. considere importante mencionar.
Resalto la importancia de la seguridad en las contrase√±as y la necesidad de aplicar pol√≠ticas de seguridad estrictas, como el uso de contrase√±as fuertes y la autenticaci√≥n multifactor. Adem√°s, el aprendizaje continuo sobre t√©cnicas de ataque y defensa es clave para mantener un entorno seguro en un contexto cada vez m√°s vulnerable.

